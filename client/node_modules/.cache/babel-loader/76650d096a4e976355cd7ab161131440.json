{"ast":null,"code":"var _jsxFileName = \"/Users/brieucjamain/Desktop/template/src/components/Auth.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { AUTH_TOKEN } from \"../utils/constants\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { UserConsumer } from './App'; //STYLING\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Container, Avatar, Card, Button, TextField, Link, Grid, Typography } from \"@material-ui/core\";\nconst SIGNUP_MUTATION = gql`\n  mutation SignupMutation($email: String!, $password: String!, $name: String!) {\n    signup(email: $email, password: $password, name: $name) {\n      token,\n      user{\n        id\n        name\n        email\n      }\n    }\n  }\n`;\nconst LOGIN_MUTATION = gql`\n  mutation LoginMutation($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token,\n      user{\n        id\n        name\n        email\n      }\n    }\n  }\n`;\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  card: {\n    padding: theme.spacing(2)\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n});\n\nclass Auth extends Component {\n  constructor(props) {\n    super(props);\n\n    this.saveUserData = token => {\n      localStorage.setItem(AUTH_TOKEN, token);\n    };\n\n    this.confirm = async data => {\n      const res = this.state.login ? data.login : data.signup; // console.log(res)\n      // this.props.updateUser(res)\n      // this.props.history.push(`/`);\n    };\n\n    this.state = {\n      login: true,\n      email: \"\",\n      password: \"\",\n      name: \"\"\n    };\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n  }\n\n  render() {\n    const {\n      classes,\n      token\n    } = this.props;\n    return React.createElement(UserConsumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, value => {\n      return React.createElement(AppBar, {\n        position: \"static\",\n        color: \"primary\",\n        className: classes.appBar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        edge: \"start\",\n        className: classes.menuButton,\n        color: \"inherit\",\n        \"aria-label\": \"menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Menu, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"h6\",\n        className: classes.title,\n        component: Link,\n        to: \"/\",\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"TITLE\"), value.token ? React.createElement(Button, {\n        onClick: () => {\n          value.deleteUser();\n        },\n        color: \"inherit\",\n        component: Link,\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Logout\") : React.createElement(Button, {\n        color: \"inherit\",\n        component: Link,\n        to: \"/Auth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Login\")));\n    });\n  }\n\n}\n\nexport default withStyles(styles)(Auth);","map":{"version":3,"sources":["/Users/brieucjamain/Desktop/template/src/components/Auth.js"],"names":["React","Component","Fragment","AUTH_TOKEN","Mutation","gql","UserConsumer","withStyles","Container","Avatar","Card","Button","TextField","Link","Grid","Typography","SIGNUP_MUTATION","LOGIN_MUTATION","styles","theme","root","display","justifyContent","alignItems","paper","flexDirection","card","padding","spacing","avatar","margin","backgroundColor","palette","secondary","main","form","width","marginTop","submit","Auth","constructor","props","saveUserData","token","localStorage","setItem","confirm","data","res","state","login","signup","email","password","name","handleChange","e","setState","target","value","componentDidMount","console","log","render","classes","appBar","menuButton","title","deleteUser"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,YAAT,QAA6B,OAA7B,C,CACA;;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SACEC,SADF,EAEEC,MAFF,EAGEC,IAHF,EAIEC,MAJF,EAKEC,SALF,EAMEC,IANF,EAOEC,IAPF,EAQEC,UARF,QASO,mBATP;AAWA,MAAMC,eAAe,GAAGX,GAAI;;;;;;;;;;;CAA5B;AAaA,MAAMY,cAAc,GAAGZ,GAAI;;;;;;;;;;;CAA3B;;AAaA,MAAMa,MAAM,GAAGC,KAAK,KAAK;AACvBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,OAAO,EAAE,MADL;AAEJC,IAAAA,cAAc,EAAE,QAFZ;AAGJC,IAAAA,UAAU,EAAE;AAHR,GADiB;AAMvBC,EAAAA,KAAK,EAAE;AACLH,IAAAA,OAAO,EAAE,MADJ;AAELI,IAAAA,aAAa,EAAE,QAFV;AAGLF,IAAAA,UAAU,EAAE;AAHP,GANgB;AAWvBG,EAAAA,IAAI,EAAE;AACJC,IAAAA,OAAO,EAAER,KAAK,CAACS,OAAN,CAAc,CAAd;AADL,GAXiB;AAcvBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,MAAM,EAAEX,KAAK,CAACS,OAAN,CAAc,CAAd,CADF;AAENG,IAAAA,eAAe,EAAEZ,KAAK,CAACa,OAAN,CAAcC,SAAd,CAAwBC;AAFnC,GAde;AAkBvBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,MADH;AACW;AACfC,IAAAA,SAAS,EAAElB,KAAK,CAACS,OAAN,CAAc,CAAd;AAFP,GAlBiB;AAsBvBU,EAAAA,MAAM,EAAE;AACNR,IAAAA,MAAM,EAAEX,KAAK,CAACS,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB;AADF;AAtBe,CAAL,CAApB;;AA2BA,MAAMW,IAAN,SAAmBtC,SAAnB,CAA6B;AAC3BuC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAUnBC,YAVmB,GAUJC,KAAK,IAAI;AACtBC,MAAAA,YAAY,CAACC,OAAb,CAAqB1C,UAArB,EAAiCwC,KAAjC;AACD,KAZkB;;AAAA,SAcnBG,OAdmB,GAcT,MAAOC,IAAP,IAAgB;AACxB,YAAMC,GAAG,GAAG,KAAKC,KAAL,CAAWC,KAAX,GAAmBH,IAAI,CAACG,KAAxB,GAAgCH,IAAI,CAACI,MAAjD,CADwB,CAExB;AACA;AACA;AACD,KAnBkB;;AAEjB,SAAKF,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,IADI;AAEXE,MAAAA,KAAK,EAAE,EAFI;AAGXC,MAAAA,QAAQ,EAAE,EAHC;AAIXC,MAAAA,IAAI,EAAE;AAJK,KAAb;AAMD;;AAaDC,EAAAA,YAAY,CAACC,CAAD,EAAI;AACd,SAAKC,QAAL,CAAc;AAAE,OAACD,CAAC,CAACE,MAAF,CAASJ,IAAV,GAAiBE,CAAC,CAACE,MAAF,CAASC;AAA5B,KAAd;AACD;;AAEDC,EAAAA,iBAAiB,GAAE;AACjBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrB,KAAjB;AACD;;AAEDsB,EAAAA,MAAM,GAAE;AACN,UAAM;AAAEC,MAAAA,OAAF;AAAWrB,MAAAA;AAAX,QAAqB,KAAKF,KAAhC;AACA,WACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGkB,KAAK,IAAI;AACR,aACF,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAC,QAAjB;AAA0B,QAAA,KAAK,EAAC,SAAhC;AAA0C,QAAA,SAAS,EAAEK,OAAO,CAACC,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,SAAS,EAAED,OAAO,CAACE,UAFrB;AAGE,QAAA,KAAK,EAAC,SAHR;AAIE,sBAAW,MAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADF,EASE,oBAAC,UAAD;AACE,QAAA,OAAO,EAAC,IADV;AAEE,QAAA,SAAS,EAAEF,OAAO,CAACG,KAFrB;AAGE,QAAA,SAAS,EAAEtD,IAHb;AAIE,QAAA,EAAE,EAAE,GAJN;AAKE,QAAA,KAAK,EAAC,SALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATF,EAkBG8C,KAAK,CAAChB,KAAN,GACC,oBAAC,MAAD;AACE,QAAA,OAAO,EAAE,MAAM;AACbgB,UAAAA,KAAK,CAACS,UAAN;AACD,SAHH;AAIE,QAAA,KAAK,EAAC,SAJR;AAKE,QAAA,SAAS,EAAEvD,IALb;AAME,QAAA,EAAE,EAAE,GANN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,GAYC,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAwB,QAAA,SAAS,EAAEA,IAAnC;AAAyC,QAAA,EAAE,EAAE,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA9BJ,CADF,CADE;AAuCH,KAzCD,CADF;AA6CH;;AA7E4B;;AAgF7B,eAAeN,UAAU,CAACW,MAAD,CAAV,CAAmBqB,IAAnB,CAAf","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { AUTH_TOKEN } from \"../utils/constants\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { UserConsumer } from './App'\n//STYLING\nimport { withStyles } from \"@material-ui/core/styles\";\nimport {\n  Container,\n  Avatar,\n  Card,\n  Button,\n  TextField,\n  Link,\n  Grid,\n  Typography\n} from \"@material-ui/core\";\n\nconst SIGNUP_MUTATION = gql`\n  mutation SignupMutation($email: String!, $password: String!, $name: String!) {\n    signup(email: $email, password: $password, name: $name) {\n      token,\n      user{\n        id\n        name\n        email\n      }\n    }\n  }\n`;\n\nconst LOGIN_MUTATION = gql`\n  mutation LoginMutation($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token,\n      user{\n        id\n        name\n        email\n      }\n    }\n  }\n`;\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  card: {\n    padding: theme.spacing(2)\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n});\n\nclass Auth extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: true,\n      email: \"\",\n      password: \"\",\n      name: \"\"\n    };\n  }\n\n  saveUserData = token => {\n    localStorage.setItem(AUTH_TOKEN, token);\n  };\n\n  confirm = async (data) => {\n    const res = this.state.login ? data.login : data.signup;\n    // console.log(res)\n    // this.props.updateUser(res)\n    // this.props.history.push(`/`);\n  };\n\n  handleChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  componentDidMount(){\n    console.log(this.props)\n  }\n\n  render(){\n    const { classes, token } = this.props;\n    return (\n      <UserConsumer>\n        {value => {\n          return (      \n        <AppBar position=\"static\" color=\"primary\" className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              edge=\"start\"\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"menu\"\n            >\n              <Menu />\n            </IconButton>\n            <Typography\n              variant=\"h6\"\n              className={classes.title}\n              component={Link}\n              to={\"/\"}\n              color=\"inherit\"\n            >\n              TITLE\n            </Typography>\n            {value.token ? (\n              <Button\n                onClick={() => {\n                  value.deleteUser()\n                }}\n                color=\"inherit\"\n                component={Link}\n                to={\"/\"}\n              >\n                Logout\n              </Button>\n            ) : (\n              <Button color=\"inherit\" component={Link} to={\"/Auth\"}>\n                Login\n              </Button>\n            )}\n          </Toolbar>\n        </AppBar>\n        )\n      }}\n      </UserConsumer> \n  );\n}\n}\n\nexport default withStyles(styles)(Auth);\n"]},"metadata":{},"sourceType":"module"}